# 11. Поиск максимального потока. Алгоритм Диница.

## Поиск максимального потока.

Смотри билет №10.

## Алгоритм Диница.

<span class="defn">Опр.</span> Пусть в сети G построен некоторый поток f. Определим остаточное ребром как меру того, насколько еще можно увеличить поток вдоль этого ребра:
$(u,v)$ с пропускной способностью $C^R_{uv} =C_{uv} - f_{uv}$ ;
$(v,u)$ с пропускной способностью $C^R_{uv} = f_{uv}$

%%Тупо отнимаешь от пропускной способности ребра значение потока и получаешь остаточное ребро.%%

<span class="defn">Опр.</span> Остаточной сетью $G^R$ по отношению к сети $G$ и некоторому потоку $f$ в ней называется сеть, в которой каждому ребру $(u,v)\in G$ с пропускной способностью $C_{uv}$ и потоком $f_uv$ соответствуют остаточное ребро.

%%Вроде и так понятно.%%

<span class="defn">Опр.</span> Для всех вершин, кроме истока $s$, определим длины кратчайших путей из $s$ и назовём уровнем $level[v]$ вершины её расстояние от истока.
%%Расставляем уровни в зависимости от того как далеко вершина от истока измеряя не вес рёбер а кол-во вершин которое нужно пройти. Причем вершины с большим уровнем не могут переходить в вершины с меньшим уровнем.%%

<span class="defn">Опр.</span> В слоистую сеть включают все те ребра $(u,v)$ исходной сети, которые ведут с одного уровня на какой-либо другой, более поздний уровень, т.е. $level[u] + 1 = level[v]$

Для того, чтобы построить слоистую сеть по данной сети нужно, запустить обход в ширину по рёбрам этой сети, посчитав тем самым для каждой вершины величину, $level[]$, и затем внести в слоистую сеть все подходящие ребра.

<span class="defn">Опр.</span>Блокирующий поток в данной сети называется такой поток, что любой путь из истока $s$ в сток $t$ содержит насыщенное этим потоком ребро. Иными словами, в данной сети не найдётся такого пути из истока в сток, вдоль которого можно беспрепятственно увеличить поток.
%%Это говно не обязано быть максимальным потоком.%%

Сам алгоритм это:
1. Строишь остаточную сеть.
2. По отношению к ней строишь слоистая сеть.
3. В слоистой сети ищешь произвольный блокирующий поток. 
4. Прибавляешь Блокирующий поток к изначальному.
5. Мои поздравления ты нашел %%Отца ушедшего за сигаретами%% Максимальный поток.
